<project name="Componente Compartir" default ="jar" basedir="../">
	<property name="src.dir"     value="src"/>
    <property name="classes.dir" value="classes"/>
    <property name="jar.dir"     value="dist"/>
	<property name="lib.dir"     value="lib"/>
	<property name="data.dir"    value="data"/>
	<property name="jar.name"    value="cupiShare.jar"/>
	<property name="core.dir"    value="../n15_cupIphone"/>
	<property name="deploy.dir"  value="${core.dir}/dist"/>
	
	<path id="classpath">
		<fileset dir = "${lib.dir}" includes="**/*.jar"/>
	</path>
	
	<target name="clean">
		<delete dir="${classes.dir}"/>
		<delete dir="${jar.dir}"/>
		<mkdir dir="${classes.dir}"/>
		<mkdir dir="${jar.dir}"/>
	</target>
	
	<target name="compile" depends="clean">
		<javac srcdir="${src.dir}" destdir="${classes.dir}" classpathref="classpath" debug="true" />
	</target>
	
	<target name="jar" depends="compile">
		<jar destfile="${jar.dir}/${jar.name}" basedir="${classes.dir}">
			<fileset dir="./" includes="${data.dir}/**"/>
			<fileset dir="./" includes="${lib.dir}/**"/>
			<fileset dir="./" excludes="${lib.dir}/cupiphoneSDK.jar, ${lib.dir}/Cupi2Collections.jar, ${lib.dir}/contactos.jar,"/>
		</jar>
		<copy file="${jar.dir}/${jar.name}" todir="${deploy.dir}" />
	</target>
</project>